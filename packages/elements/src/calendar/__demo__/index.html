<!DOCTYPE html>
<html lang="en-GB">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Calendar</title>
  </head>
  <body>
    <script type="module">
      import '@refinitiv-ui/elements/calendar';

      import '@refinitiv-ui/demo-block';
      import '@refinitiv-ui/demo-block/demo.css';

      // Dynamic import theme files from search params of the URL
      // Ex. http://localhost:3000?theme=halo&varint=dark will load halo-theme/dark
      const url = new URL(window.location);
      const theme = url.searchParams.get('theme') || 'halo';
      const variant = url.searchParams.get('variant') || 'light';

      if (!window.location.search) {
        url.searchParams.set('theme', theme);
        url.searchParams.append('variant', variant);
        window.location.search = url.searchParams.toString();
      }

      import(`../../../../../node_modules/@refinitiv-ui/${theme}-theme/${variant}/css/native-elements.css`);
      import(`../../../lib/calendar/themes/${theme}/${variant}/index.js`);
    </script>

    <demo-block header="Default/Range Select Calendar" tags="default,range,multiple">
      <ef-calendar></ef-calendar>
      <ef-calendar range></ef-calendar>
    </demo-block>

    <demo-block header="Multiple Select Calendar" tags="multiple,values">
      <ef-calendar multiple></ef-calendar>
      <ef-calendar id="multiple-values" multiple values="2020-05-02,2020-05-06,2020-05-07"></ef-calendar>
    </demo-block>

    <demo-block header="Russian Locale/Range Japanese Locale" tags="lang,locale,ru,ja">
      <ef-calendar lang="ru"></ef-calendar>
      <ef-calendar lang="ja" range></ef-calendar>
    </demo-block>

    <demo-block header="AD/BC View" tags="view,AD/BC">
      <ef-calendar view="-000004-05"></ef-calendar>
      <ef-calendar range view="-000004-05"></ef-calendar>
    </demo-block>

    <demo-block header="Min/Max/Value / Range Min/Max/From/To" tags="min,max,value,from,to">
      <ef-calendar min="1990-01-01" max="2000-01-01" value="2000-01-01"></ef-calendar>
      <ef-calendar range min="1990-01-01" max="2000-01-01" values="1999-12-20,2000-01-01"></ef-calendar>
    </demo-block>

    <demo-block header="Weekdays/Range Weekends Only" tags="weekdays,weekends">
      <ef-calendar weekdays-only></ef-calendar>
      <ef-calendar weekends-only range></ef-calendar>
    </demo-block>

    <demo-block header="Fill Cells" tags="fill,cells,rows">
      <ef-calendar fill-cells></ef-calendar>
      <ef-calendar fill-cells range></ef-calendar>
    </demo-block>

    <demo-block header="Custom Filter (Odds Only)" tags="custom,filter">
      <ef-calendar filtered></ef-calendar>
      <ef-calendar filtered range></ef-calendar>
      <script type="module">
        import { parse } from '@refinitiv-ui/utils/date.js';

        (function () {
          document.querySelectorAll('[filtered]').forEach((el) => {
            el.filter = function (date) {
              return parse(date).getDate() % 2;
            };
          });
        })();
      </script>
    </demo-block>

    <demo-block header="Slotted Cell Content">
      <style>
        .custom-cell {
          background-color: #1fa90a;
          width: 100%;
          height: 100%;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        .custom-cell:hover {
          background-color: #00c389;
        }
      </style>
      <ef-calendar fill-cells range view="2020-05" min="2020-05-08">
        <div class="custom-cell" slot="2020-05-02">
          <ef-icon icon="emote"></ef-icon>
        </div>
        <div class="custom-cell" slot="2020-05-03">
          <ef-icon icon="favorites"></ef-icon>
        </div>
        <div class="custom-cell" slot="2020-05-09">
          <ef-icon icon="emote"></ef-icon>
        </div>
        <div class="custom-cell" slot="2020-05-10">
          <ef-icon icon="favorites"></ef-icon>
        </div>
        <div class="custom-cell" slot="2020-05-16">
          <ef-icon icon="emote"></ef-icon>
        </div>
        <div class="custom-cell" slot="2020-05-17">
          <ef-icon icon="favorites"></ef-icon>
        </div>
        <div class="custom-cell" slot="2020-05-23">
          <ef-icon icon="emote"></ef-icon>
        </div>
        <div class="custom-cell" slot="2020-05-24">
          <ef-icon icon="favorites"></ef-icon>
        </div>
        <div class="custom-cell" slot="2020-05-30">
          <ef-icon icon="emote"></ef-icon>
        </div>
        <div class="custom-cell" slot="2020-05-31">
          <ef-icon icon="favorites"></ef-icon>
        </div>
        <div class="custom-cell" slot="2020-06-06">
          <ef-icon icon="emote"></ef-icon>
        </div>
        <div class="custom-cell" slot="2020-06-07">
          <ef-icon icon="favorites"></ef-icon>
        </div>
      </ef-calendar>
    </demo-block>

    <demo-block header="Slotted Footer Content">
      <ef-calendar>
        <div
          slot="footer"
          style="display: flex; justify-content: space-between; align-items: center; padding: 3px"
        >
          Custom content.
          <ef-icon icon="popout"></ef-icon>
        </div>
      </ef-calendar>
    </demo-block>

    <demo-block header="Readonly/Disabled" tags="readonly,disabled">
      <ef-calendar readonly value="2020-05-02"></ef-calendar>
      <ef-calendar disabled value="2020-05-02"></ef-calendar>
    </demo-block>

    <demo-block header="Selected Disabled Date" tags="selected,disabled">
      <ef-calendar weekdays-only value="2020-05-02"></ef-calendar>
    </demo-block>

    <demo-block header="Responsive" layout="normal" tags="responsive">
      <ef-calendar style="display: block" min="2010-06-01"></ef-calendar>
    </demo-block>

    <demo-block header="Responsive Range" layout="normal" tags="responsive,range">
      <ef-calendar style="display: block" min="2010-06-01" range></ef-calendar>
    </demo-block>
  </body>
</html>
