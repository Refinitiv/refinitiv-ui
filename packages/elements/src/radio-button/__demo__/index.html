<!DOCTYPE html>
<html lang="en-GB">
  <head>
    <meta charset="utf-8" />
    <title>Radio Button</title>
  </head>
  <body>
    <script type="module">
      import '@refinitiv-ui/elements/radio-button';

      import '@refinitiv-ui/demo-block';
      import '@refinitiv-ui/demo-block/demo.css';

      // Dynamic import theme files from search params of the URL
      // Ex. http://localhost:3000?theme=halo&varint=dark will load halo-theme/dark
      const url = new URL(window.location);
      const theme = url.searchParams.get('theme') || 'halo';
      const variant = url.searchParams.get('variant') || 'light';

      if (!window.location.search) {
        url.searchParams.set('theme', theme);
        url.searchParams.append('variant', variant);
        window.location.search = url.searchParams.toString();
      }

      import(`../../../../../node_modules/@refinitiv-ui/${theme}-theme/${variant}/css/native-elements.css`);
      import(`../../../lib/radio-button/themes/${theme}/${variant}/index.js`);
    </script>

    <demo-block header="Grouped radio-button">
      <ef-radio-button id="1" name="group" checked>Option 1</ef-radio-button>
      <ef-radio-button id="2" name="group">Option 2</ef-radio-button>
    </demo-block>

    <demo-block header="Default Radio">
      <ef-radio-button>Unchecked</ef-radio-button>
      <ef-radio-button checked>Checked</ef-radio-button>
    </demo-block>

    <demo-block header="No label Radio">
      <div>
        <ef-radio-button></ef-radio-button>
        <ef-radio-button checked></ef-radio-button>
        <ef-radio-button checked></ef-radio-button>
        <ef-radio-button id="radio"></ef-radio-button>
      </div>
      <input placeholder="input radio content" id="radioInput" />
    </demo-block>
    <script>
      radioInput.addEventListener('input', (e) => {
        radio.textContent = e.target.value;
      });
    </script>

    <demo-block header="Ellipsis with tooltip Radio">
      <ef-radio-button style="width: 70px">Unchecked</ef-radio-button>
      <ef-radio-button style="width: 70px" checked>Checked</ef-radio-button>
    </demo-block>

    <demo-block header="Disabled radio-button">
      <ef-radio-button disabled>Unchecked</ef-radio-button>
      <ef-radio-button checked disabled>Checked</ef-radio-button>
    </demo-block>

    <demo-block header="Readonly radio-button">
      <ef-radio-button readonly>Unchecked</ef-radio-button>
      <ef-radio-button checked readonly>Checked</ef-radio-button>
    </demo-block>

    <demo-block layout="normal" header="Event">
      <ef-radio-button id="radio-button">checked-changed event</ef-radio-button>
      <p>Value: <code id="state">false</code></p>
      <script>
        var text = document.getElementById('state');
        var radioButton = document.getElementById('radio-button');

        radioButton.addEventListener('checked-changed', function (e) {
          text.innerHTML = e.detail.value;
        });
      </script>
    </demo-block>

    <demo-block header="Accessibility">
      <div role="radiogroup" aria-labelledby="test_group">
        <h5 id="test_group">Radio button with radio group</h5>
        <ef-radio-button id="1" name="group1" checked>Option 1</ef-radio-button>
        <ef-radio-button id="2" name="group1">Option 2</ef-radio-button>
        <ef-radio-button id="3" name="group1">Option 3</ef-radio-button>
      </div>
    </demo-block>
  </body>
</html>
