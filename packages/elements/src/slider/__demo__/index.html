<!DOCTYPE html>
<html lang="en-GB">
  <head>
    <meta charset="utf-8" />
    <title>Slider</title>
  </head>

  <body>
    <script type="module">
      import '@refinitiv-ui/elements/slider';

      import '@refinitiv-ui/demo-block';
      import '@refinitiv-ui/demo-block/demo.css';

      // Dynamic import theme files from search params of the URL
      // Ex. http://localhost:3000?theme=halo&varint=dark will load halo-theme/dark
      const url = new URL(window.location);
      const theme = url.searchParams.get('theme') || 'halo';
      const variant = url.searchParams.get('variant') || 'light';

      if (!window.location.search) {
        url.searchParams.set('theme', theme);
        url.searchParams.append('variant', variant);
        window.location.search = url.searchParams.toString();
      }

      import(`../../../../../node_modules/@refinitiv-ui/${theme}-theme/${variant}/css/native-elements.css`);
      import(`../../../lib/slider/themes/${theme}/${variant}/index.js`);
    </script>

    <style>
      ef-slider[custom-label] {
        --progress-color: transparent;
      }
      ef-slider[custom-color] {
        --step-color: rgb(0, 73, 0);
        --thumb-color: green;
        --pin-color: orange;
        --pin-text-color: black;
      }
      ef-slider[custom-align] {
        margin: 20px 40px;
      }
      ef-slider[pin] {
        margin-top: 25px;
      }
      label {
        display: block;
      }
    </style>

    <demo-block layout="normal" header="Default">
      <ef-slider value="20"></ef-slider>
    </demo-block>

    <demo-block layout="normal" header="Steps">
      <ef-slider step="10"></ef-slider>
    </demo-block>

    <demo-block layout="normal" header="Show Pin" tag="5">
      <ef-slider value="40" pin></ef-slider>
    </demo-block>

    <demo-block layout="normal" header="Show Steps">
      <ef-slider min="20" max="150" value="64" step="10" show-steps></ef-slider>
    </demo-block>

    <demo-block layout="normal" header="Show Steps and pin">
      <ef-slider min="20" max="100" value="50" step="10" show-steps pin></ef-slider>
    </demo-block>

    <demo-block layout="normal" header="Disabled">
      <ef-slider value="50" disabled step="10"></ef-slider>
    </demo-block>

    <demo-block layout="normal" header="Read Only">
      <ef-slider value="16" step="10" readonly show-steps></ef-slider>
    </demo-block>

    <demo-block layout="normal" header="Modified Color">
      <ef-slider custom-color min="0" max="110" value="50" step="20" show-steps pin></ef-slider>
    </demo-block>

    <demo-block layout="normal" header="Range">
      <ef-slider min="-50" max="110" from="10" to="50" range step="5"></ef-slider>
    </demo-block>

    <demo-block layout="normal" header="Range show steps and pin">
      <ef-slider min="-50" max="110" step="20" from="10" to="50" show-steps pin range></ef-slider>
    </demo-block>

    <demo-block layout="normal" header="Show input field">
      <ef-slider min="20" max="110" value="30" step="5" show-input-field></ef-slider>
    </demo-block>

    <demo-block layout="normal" header="Show input field on range">
      <ef-slider min="-50" max="110" from="10" to="50" show-input-field range step="5"></ef-slider>
    </demo-block>

    <demo-block layout="normal" header="Set Min range">
      <ef-slider min="-10" max="10" from="-5" to="5" min-range="5" show-input-field range></ef-slider>
    </demo-block>

    <demo-block layout="normal" header="Set step decimal">
      <ef-slider min="0.1" max="10" value="0" step="0.5" show-steps show-input-field></ef-slider>
    </demo-block>

    <demo-block layout="normal" header="Range set step decimal">
      <ef-slider range min="0.1" max="10" value="0" step="0.5" show-steps show-input-field></ef-slider>
    </demo-block>

    <demo-block layout="normal" header="Custom label">
      <ef-slider>
        <ef-slider-marker value="11"></ef-slider-marker>
        <ef-slider-marker value="26"></ef-slider-marker>
        <ef-slider-marker value="67"></ef-slider-marker>
      </ef-slider>
      <label for="rating">Rating</label>
      <ef-slider id="rating">
        <ef-slider-marker value="0"><ef-icon icon="rating-1"></ef-icon></ef-slider-marker>
        <ef-slider-marker value="50"><ef-icon icon="rating-2"></ef-icon></ef-slider-marker>
        <ef-slider-marker value="100"><ef-icon icon="rating-3"></ef-icon></ef-slider-marker>
      </ef-slider>
      <label for="temperature">Temperature</label>
      <ef-slider id="temperature" step="5" show-steps>
        <ef-slider-marker value="0">0°C</ef-slider-marker>
        <ef-slider-marker value="5">5°C</ef-slider-marker>
        <ef-slider-marker value="20">20°C</ef-slider-marker>
        <ef-slider-marker value="50">50°C</ef-slider-marker>
        <ef-slider-marker value="100">100°C</ef-slider-marker>
      </ef-slider>
      <label for="minus-temperature">Minus Temperature</label>
      <ef-slider id="minus-temperature" step="5" min="-17" max="200" value="-15" show-input-field>
        <ef-slider-marker value="-10">-10°C</ef-slider-marker>
        <ef-slider-marker value="5">5°C</ef-slider-marker>
        <ef-slider-marker value="20">20°C</ef-slider-marker>
        <ef-slider-marker value="50">50°C</ef-slider-marker>
        <ef-slider-marker value="72.5">72.5°C</ef-slider-marker>
        <ef-slider-marker value="100">100°C</ef-slider-marker>
        <ef-slider-marker value="200">200°C</ef-slider-marker>
      </ef-slider>
      <ef-slider range>
        <ef-slider-marker value="0">0°C</ef-slider-marker>
        <ef-slider-marker value="5">5°C</ef-slider-marker>
        <ef-slider-marker value="20">20°C</ef-slider-marker>
        <ef-slider-marker value="50">50°C</ef-slider-marker>
        <ef-slider-marker value="80">80°C</ef-slider-marker>
        <ef-slider-marker value="90">90°C</ef-slider-marker>
        <ef-slider-marker value="100">100°C</ef-slider-marker>
      </ef-slider>
      <label for="range-step-temparature">Range step Temperature</label>
      <ef-slider id="range-step-temparature" step="5" range show-input-field min-range="10">
        <ef-slider-marker value="0">0°C</ef-slider-marker>
        <ef-slider-marker value="5">5°C</ef-slider-marker>
        <ef-slider-marker value="8">8°C</ef-slider-marker>
        <ef-slider-marker value="20">20°C</ef-slider-marker>
        <ef-slider-marker value="29">29°C</ef-slider-marker>
        <ef-slider-marker value="50">50°C</ef-slider-marker>
        <ef-slider-marker value="80">80°C</ef-slider-marker>
        <ef-slider-marker value="90">90°C</ef-slider-marker>
        <ef-slider-marker value="100">100°C</ef-slider-marker>
      </ef-slider>
      <ef-slider step="5" custom-label>
        <ef-slider-marker value="0">0°C</ef-slider-marker>
        <ef-slider-marker value="5">5°C</ef-slider-marker>
        <ef-slider-marker value="20">20°C</ef-slider-marker>
        <ef-slider-marker value="50">50°C</ef-slider-marker>
        <ef-slider-marker value="100">100°C</ef-slider-marker>
      </ef-slider>
    </demo-block>

    <demo-block layout="normal" header="Custom label alignment">
      <ef-slider step="20" custom-align>
        <ef-slider-marker value="0" label-align="right">Align Right</ef-slider-marker>
        <ef-slider-marker value="20">Align default</ef-slider-marker>
        <ef-slider-marker value="60" label-align="left">Align left</ef-slider-marker>
        <ef-slider-marker value="100" label-align="center">Align center</ef-slider-marker>
      </ef-slider>
    </demo-block>

    <demo-block layout="normal" header="Override aria-hidden">
      <ef-slider step="20" custom-align>
        <ef-slider-marker aria-hidden="false" value="0">Zero</ef-slider-marker>
        <ef-slider-marker aria-hidden="false" value="25">Twenty-five</ef-slider-marker>
        <ef-slider-marker aria-hidden="false" value="50">Fifty</ef-slider-marker>
        <ef-slider-marker aria-hidden="false" value="75">Seventy-five</ef-slider-marker>
        <ef-slider-marker aria-hidden="false" value="100">One hundred</ef-slider-marker>
      </ef-slider>
    </demo-block>

    <script>
      const demoBlock = document.querySelectorAll('demo-block');
      demoBlock.forEach(function (block) {
        const slider = block.querySelector('ef-slider');
        const span = document.createElement('span');
        const valueText = document.createTextNode('Value:');
        const valueFromText = document.createTextNode('From:');
        const valueToText = document.createTextNode('To:');
        const minText = document.createTextNode('Min:');
        const maxText = document.createTextNode('Max:');
        const minRangeText = document.createTextNode('Min Range:');

        span.appendChild(minText);

        if (!slider.hasAttribute('range')) {
          span.appendChild(document.createElement('br'));
          span.appendChild(valueText);
        }
        if (slider.hasAttribute('range')) {
          span.appendChild(document.createElement('br'));
          span.appendChild(valueFromText);
          span.appendChild(document.createElement('br'));
          span.appendChild(valueToText);
          span.appendChild(document.createElement('br'));
          span.appendChild(minRangeText);
        }
        span.appendChild(document.createElement('br'));
        span.appendChild(maxText);

        block.appendChild(span);

        slider.addEventListener('min-changed', function (e) {
          minText.nodeValue = 'Min:' + e.detail.value;
        });
        slider.addEventListener('max-changed', function (e) {
          maxText.nodeValue = 'Max:' + e.detail.value;
        });
        slider.addEventListener('value-changed', function (e) {
          valueText.nodeValue = 'Value:' + e.detail.value;
        });
        slider.addEventListener('from-changed', function (e) {
          valueFromText.nodeValue = 'From:' + e.detail.value;
        });
        slider.addEventListener('to-changed', function (e) {
          valueToText.nodeValue = 'To:' + e.detail.value;
          minRangeText.nodeValue = 'MinRage:' + slider.minRange;
        });
        slider.addEventListener('input', function (e) {
          valueText.nodeValue = 'Value Input:' + e.detail.value;
        });
        slider.addEventListener('from-input', function (e) {
          valueFromText.nodeValue = 'From Input:' + e.detail.value;
        });
        slider.addEventListener('to-input', function (e) {
          valueToText.nodeValue = 'To Input:' + e.detail.value;
        });
      });
    </script>
  </body>
</html>
